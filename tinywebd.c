#include <sys/stat.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <time.h>
#include <signal.h>
#include "hacking.h"
#include "hacking-network.h"

#define PORT 80
#define WEBROOT "./webroot"
#define LOGFILE "/var/log/tinywebd.log"
int logfd, sockfd;
void handle_connection(int, struct, sockaddr_in *, int);
int get_file_size(int);
void timestamp(int);

void handle_shutdown(int signal){
    timestamp(logfd);
    write(logfd, "종료 중.\n", 16);
    close(logfd);
    close(sockfd);
    exit(0);
}